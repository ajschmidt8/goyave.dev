<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Logging | Goyave</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" type="image/png" sizes="16x16" href="/goyave_16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/goyave_32.png">
    <link rel="icon" type="image/png" sizes="64x64" href="/goyave_64.png">
    <link rel="icon" type="image/png" sizes="128x128" href="/goyave_128.png">
    <link rel="icon" type="image/png" sizes="256x256" href="/goyave_256.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/goyave_512.png">
    <meta name="description" content="Goyave is a Golang REST API framework aiming at cleanliness, fast development and power.">
    <meta name="og:title" content="Logging - Goyave">
    <meta name="twitter:title" content="Logging - Goyave">
    <meta name="title" content="Logging - Goyave">
    <meta property="twitter:description" content="Goyave is a Golang REST API framework aiming at cleanliness, fast development and power.">
    <meta property="twitter:image:src" content="https://goyave.dev/goyave_banner.png">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Goyave is a Golang REST API framework aiming at cleanliness, fast development and power.">
    <meta property="og:image" content="https://goyave.dev/goyave_banner.png">
    <meta property="og:site_name" content="Goyave">
    
    <link rel="preload" href="/assets/css/0.styles.26dd6e4b.css" as="style"><link rel="preload" href="/assets/js/app.6ffc6220.js" as="script"><link rel="preload" href="/assets/js/5.1c93d9fd.js" as="script"><link rel="preload" href="/assets/js/1.f79eb711.js" as="script"><link rel="preload" href="/assets/js/15.a6526a57.js" as="script"><link rel="preload" href="/assets/js/6.a7e8bb94.js" as="script"><link rel="prefetch" href="/assets/js/10.37f2133a.js"><link rel="prefetch" href="/assets/js/11.4ebe3b0e.js"><link rel="prefetch" href="/assets/js/12.b7810994.js"><link rel="prefetch" href="/assets/js/13.e2bf4254.js"><link rel="prefetch" href="/assets/js/14.5d3ccbdb.js"><link rel="prefetch" href="/assets/js/16.5a37ced7.js"><link rel="prefetch" href="/assets/js/17.e7b6af0e.js"><link rel="prefetch" href="/assets/js/18.2b65ab11.js"><link rel="prefetch" href="/assets/js/19.387d3088.js"><link rel="prefetch" href="/assets/js/20.41cad5cf.js"><link rel="prefetch" href="/assets/js/21.c81594c8.js"><link rel="prefetch" href="/assets/js/22.45251716.js"><link rel="prefetch" href="/assets/js/23.c07afcba.js"><link rel="prefetch" href="/assets/js/24.62fcae00.js"><link rel="prefetch" href="/assets/js/25.6cceeeb3.js"><link rel="prefetch" href="/assets/js/26.95f226e8.js"><link rel="prefetch" href="/assets/js/27.22739ec1.js"><link rel="prefetch" href="/assets/js/28.fdeac3b0.js"><link rel="prefetch" href="/assets/js/29.9eb65d6d.js"><link rel="prefetch" href="/assets/js/30.cccb87a9.js"><link rel="prefetch" href="/assets/js/31.a2a242a7.js"><link rel="prefetch" href="/assets/js/32.e211a80c.js"><link rel="prefetch" href="/assets/js/33.ccebd016.js"><link rel="prefetch" href="/assets/js/34.fcb0ba15.js"><link rel="prefetch" href="/assets/js/35.42c42f3c.js"><link rel="prefetch" href="/assets/js/36.2ef6b321.js"><link rel="prefetch" href="/assets/js/37.07610d51.js"><link rel="prefetch" href="/assets/js/38.115fd1cc.js"><link rel="prefetch" href="/assets/js/39.11c8fbda.js"><link rel="prefetch" href="/assets/js/4.e0abb74f.js"><link rel="prefetch" href="/assets/js/40.a1be762e.js"><link rel="prefetch" href="/assets/js/41.b73e4345.js"><link rel="prefetch" href="/assets/js/42.82d183c9.js"><link rel="prefetch" href="/assets/js/43.af2ed02a.js"><link rel="prefetch" href="/assets/js/44.06899574.js"><link rel="prefetch" href="/assets/js/45.c63bf94c.js"><link rel="prefetch" href="/assets/js/46.277fc903.js"><link rel="prefetch" href="/assets/js/47.117a430d.js"><link rel="prefetch" href="/assets/js/48.33f3affc.js"><link rel="prefetch" href="/assets/js/49.b9251756.js"><link rel="prefetch" href="/assets/js/50.a1711a53.js"><link rel="prefetch" href="/assets/js/51.9bd1e763.js"><link rel="prefetch" href="/assets/js/52.d36faf2a.js"><link rel="prefetch" href="/assets/js/53.1da7fe88.js"><link rel="prefetch" href="/assets/js/54.e06eaa9f.js"><link rel="prefetch" href="/assets/js/55.2ca44bcc.js"><link rel="prefetch" href="/assets/js/56.9c2d768a.js"><link rel="prefetch" href="/assets/js/57.e1510a48.js"><link rel="prefetch" href="/assets/js/58.9125b2d0.js"><link rel="prefetch" href="/assets/js/59.19823e8a.js"><link rel="prefetch" href="/assets/js/60.c8bb5961.js"><link rel="prefetch" href="/assets/js/61.456be12d.js"><link rel="prefetch" href="/assets/js/62.9660de18.js"><link rel="prefetch" href="/assets/js/7.ae4e33f4.js"><link rel="prefetch" href="/assets/js/8.b5561a44.js"><link rel="prefetch" href="/assets/js/9.53821f89.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.f357826b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.26dd6e4b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-3fedb5af><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/goyave_64.png" alt="Goyave" class="logo"> <span class="site-name can-hide">Goyave</span></a> <div class="links"><div class="user-settings"><a title="Dark theme" href="#" class="settings-button"><svg aria-hidden="true" data-prefix="fas" data-icon="cog" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="svg-inline--fa fa-cog fa-w-16 settings-icon"><path fill="currentColor" d="M8 0c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM8 15c-3.9 0-7-3.1-7-7 0-2.4 1.2-4.6 3.2-5.9-0.1 0.6-0.2 1.3-0.2 1.9 0 4.9 4 8.9 8.9 9-1.3 1.3-3 2-4.9 2z"></path></svg></a></div> <form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guide Menu" class="dropdown-title"><span class="title">Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guide Menu" class="mobile-dropdown-title"><span class="title">Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/" class="nav-link router-link-active">
  v4
</a></li><li class="dropdown-item"><!----> <a href="/v3/guide/" class="nav-link">
  v3
</a></li></ul></div></div><div class="nav-item"><a href="https://pkg.go.dev/goyave.dev/goyave/v4" target="_blank" rel="noopener noreferrer" class="nav-link external">
  pkg.go.dev
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/go-goyave/goyave" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guide Menu" class="dropdown-title"><span class="title">Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guide Menu" class="mobile-dropdown-title"><span class="title">Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/" class="nav-link router-link-active">
  v4
</a></li><li class="dropdown-item"><!----> <a href="/v3/guide/" class="nav-link">
  v3
</a></li></ul></div></div><div class="nav-item"><a href="https://pkg.go.dev/goyave.dev/goyave/v4" target="_blank" rel="noopener noreferrer" class="nav-link external">
  pkg.go.dev
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/go-goyave/goyave" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div class="sponsors" data-v-094edf48><!----> <a href="https://github.com/sponsors/System-Glitch/" rel="nofollow" target="_blank" class="become-backer" data-v-094edf48>
    Become a Sponsor
  </a></div> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>The Basics</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Advanced</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/advanced/utilities.html" class="sidebar-link">Utilities</a></li><li><a href="/guide/advanced/authentication.html" class="sidebar-link">Authentication</a></li><li><a href="/guide/advanced/localization.html" class="sidebar-link">Localization</a></li><li><a href="/guide/advanced/testing.html" class="sidebar-link">Testing</a></li><li><a href="/guide/advanced/multi-services.html" class="sidebar-link">Multi-services</a></li><li><a href="/guide/advanced/cors.html" class="sidebar-link">CORS</a></li><li><a href="/guide/advanced/status-handlers.html" class="sidebar-link">Status Handlers</a></li><li><a href="/guide/advanced/logging.html" aria-current="page" class="active sidebar-link">Logging</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/advanced/logging.html#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/guide/advanced/logging.html#custom-loggers" class="sidebar-link">Custom loggers</a></li><li class="sidebar-sub-header"><a href="/guide/advanced/logging.html#common-and-combined-access-logs" class="sidebar-link">Common and Combined access logs</a></li></ul></li><li><a href="/guide/advanced/rate-limiting.html" class="sidebar-link">Rate Limiting</a></li><li><a href="/guide/advanced/websocket.html" class="sidebar-link">Websocket</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Libraries</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="logging"><a href="#logging" class="header-anchor">#</a> Logging</h1> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Since v2.8.0</span> <p></p><div class="table-of-contents"><ul><li><a href="#introduction">Introduction</a></li><li><a href="#custom-loggers">Custom loggers</a></li><li><a href="#common-and-combined-access-logs">Common and Combined access logs</a><ul><li><a href="#custom-format">Custom format</a></li></ul></li></ul></div><p></p> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>Logging is an important part of all applications. The framework provides a standard and flexible way to log accesses, errors and regular information. This standard logging feature should be preferred in all applications and modules developed using Goyave for consistency across the framework's environment.</p> <h2 id="custom-loggers"><a href="#custom-loggers" class="header-anchor">#</a> Custom loggers</h2> <p>The framework provides three <a href="https://golang.org/pkg/log/" target="_blank" rel="noopener noreferrer">Go standard loggers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <ul><li><code>goyave.Logger</code>: the logger for regular and miscellaneous information. Outputs to <code>os.Stdout</code> with <code>log.LstdFlags</code> by default.</li> <li><code>goyave.AccessLogger</code>: the logger used by the logging middleware (see below). Outputs to <code>os.Stdout</code> with no flags by default.</li> <li><code>goyave.ErrLogger</code>: the logger for errors and stacktraces. Outputs to <code>os.Stderr</code> with <code>log.LstdFlags</code> by default.</li></ul> <p>All these loggers can be modified or replaced entirely. Modifications to standard loggers should be done <strong>before</strong> calling <code>goyave.Start()</code>.</p> <p><strong>Example:</strong></p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Replace de default logger</span>
    goyave<span class="token punctuation">.</span>Logger <span class="token operator">=</span> log<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Stdout<span class="token punctuation">,</span> <span class="token string">&quot;myapp&quot;</span><span class="token punctuation">,</span> log<span class="token punctuation">.</span>Ldate <span class="token operator">|</span> log<span class="token punctuation">.</span>Ltime <span class="token operator">|</span> log<span class="token punctuation">.</span>Lshortfile<span class="token punctuation">)</span>

    goyave<span class="token punctuation">.</span>Logger<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Starting...&quot;</span><span class="token punctuation">)</span>
    goyave<span class="token punctuation">.</span><span class="token function">RegisterStartupHook</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        goyave<span class="token punctuation">.</span>Logger<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Started.&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">:=</span> goyave<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span>registerRoutes<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token operator">*</span>goyave<span class="token punctuation">.</span>Error<span class="token punctuation">)</span><span class="token punctuation">.</span>ExitCode<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="common-and-combined-access-logs"><a href="#common-and-combined-access-logs" class="header-anchor">#</a> Common and Combined access logs</h2> <p>To enable logging of accesses using the <a href="https://en.wikipedia.org/wiki/Common_Log_Format" target="_blank" rel="noopener noreferrer">Common Log Format<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, simply register the <code>CommonLogMiddleware</code>. Alternatively, you can use <code>CombinedLogMiddleware</code> for Combined Log Format.</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;goyave.dev/goyave/v4/log&quot;</span>
    <span class="token string">&quot;goyave.dev/goyave/v4&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">registerRoutes</span><span class="token punctuation">(</span>router <span class="token operator">*</span>goyave<span class="token punctuation">.</span>Router<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Common log format</span>
    router<span class="token punctuation">.</span><span class="token function">GlobalMiddleware</span><span class="token punctuation">(</span>log<span class="token punctuation">.</span><span class="token function">CommonLogMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// Combined log format</span>
    router<span class="token punctuation">.</span><span class="token function">GlobalMiddleware</span><span class="token punctuation">(</span>log<span class="token punctuation">.</span><span class="token function">CombinedLogMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Each request the server receives will be logged using the <code>goyave.AccessLogger</code> logger.</p> <h4 id="log-commonlogmiddleware"><a href="#log-commonlogmiddleware" class="header-anchor">#</a> log.CommonLogMiddleware</h4> <p>CommonLogMiddleware captures response data and outputs it to the default logger using the common log format.</p> <table><thead><tr><th>Parameters</th> <th>Return</th></tr></thead> <tbody><tr><td></td> <td><code>goyave.Middleware</code></td></tr></tbody></table> <h4 id="log-combinedlogmiddleware"><a href="#log-combinedlogmiddleware" class="header-anchor">#</a> log.CombinedLogMiddleware</h4> <p>CombinedLogMiddleware captures response data and outputs it to the default logger using the combined log format.</p> <table><thead><tr><th>Parameters</th> <th>Return</th></tr></thead> <tbody><tr><td></td> <td><code>goyave.Middleware</code></td></tr></tbody></table> <h3 id="custom-format"><a href="#custom-format" class="header-anchor">#</a> Custom format</h3> <p>It is possible to implement custom formatters for access logs. A <code>Formatter</code> is a function with the following signature:</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span><span class="token punctuation">(</span>now time<span class="token punctuation">.</span>Time<span class="token punctuation">,</span> response <span class="token operator">*</span>goyave<span class="token punctuation">.</span>Response<span class="token punctuation">,</span> request <span class="token operator">*</span>goyave<span class="token punctuation">.</span>Request<span class="token punctuation">,</span> length <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
</code></pre></div><ul><li><code>now</code> is the time at which the server received the request</li> <li><code>length</code> the length of the response body</li></ul> <p><strong>Example:</strong></p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">CustomFormatter</span><span class="token punctuation">(</span>now time<span class="token punctuation">.</span>Time<span class="token punctuation">,</span> response <span class="token operator">*</span>goyave<span class="token punctuation">.</span>Response<span class="token punctuation">,</span> request <span class="token operator">*</span>goyave<span class="token punctuation">.</span>Request<span class="token punctuation">,</span> length <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%s %s %s %s %d %d&quot;</span><span class="token punctuation">,</span>
    now<span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span>TimestampFormat<span class="token punctuation">)</span><span class="token punctuation">,</span>
    host<span class="token punctuation">,</span>
    req<span class="token punctuation">.</span>Method<span class="token punctuation">,</span>
    strconv<span class="token punctuation">.</span><span class="token function">QuoteToASCII</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">,</span>
    response<span class="token punctuation">.</span><span class="token function">GetStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    length<span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="log-middleware"><a href="#log-middleware" class="header-anchor">#</a> log.Middleware</h4> <p>Middleware captures response data and outputs it to the default logger using the given formatter.</p> <table><thead><tr><th>Parameters</th> <th>Return</th></tr></thead> <tbody><tr><td><code>formatter Formatter</code></td> <td><code>goyave.Middleware</code></td></tr></tbody></table> <p><strong>Example:</strong></p> <div class="language-go extra-class"><pre class="language-go"><code>router<span class="token punctuation">.</span><span class="token function">GlobalMiddleware</span><span class="token punctuation">(</span>log<span class="token punctuation">.</span><span class="token function">Middleware</span><span class="token punctuation">(</span>CustomFormatter<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/go-goyave/goyave.dev/edit/master/src/guide/advanced/logging.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/advanced/status-handlers.html" class="prev">
        Status Handlers
      </a></span> <span class="next"><a href="/guide/advanced/rate-limiting.html">
        Rate Limiting
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.6ffc6220.js" defer></script><script src="/assets/js/5.1c93d9fd.js" defer></script><script src="/assets/js/1.f79eb711.js" defer></script><script src="/assets/js/15.a6526a57.js" defer></script><script src="/assets/js/6.a7e8bb94.js" defer></script>
  </body>
</html>
